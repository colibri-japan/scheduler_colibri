<%= form_with(model: patient, local: true) do |form| %>
  <% if patient.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(patient.errors.count, "error") %> prohibited this patient from being saved:</h2>

    <ul>
      <% patient.errors.full_messages.each do |message| %>
      <li><%= message %></li>
      <% end %>
    </ul>
  </div>
  <% end %>

  <div class="form-group">
    <%= form.label :name, "利用者名", class: "colibri-form-label" %><span class='required-field'>*</span>
    <%= form.text_field :name, id: :patient_name, required: true, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :kana, "フリガナ", class: "colibri-form-label" %><span class='required-field'>*</span>
    <%= form.text_field :kana, id: :patient_kana, required: true, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.radio_button :gender, true, checked: patient.new_record? || patient.gender %>
    <%= form.label :gender, '女', value: true %>
    <%= form.radio_button :gender, false %>
    <%= form.label :gender, '男', value: false %>
  </div>

  <div class="form-group">
    <%= form.label :phone_number, "電話番号", class: "colibri-form-label" %>
    <%= form.text_field :phone_number, id: :patient_phone_number, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :phone_mail, "携帯メールアドレス", class: "colibri-form-label" %>
    <%= form.text_field :phone_mail, id: :patient_phone_mail, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :address, "住所", class: "colibri-form-label" %>
    <%= form.text_area :address, id: :patient_address, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :caveat_list, "特徴", class: "colibri-form-label" %>
    <%= form.select :caveat_list, options_from_collection_for_select(@caveats, 'name', 'name', patient.caveat_list), {}, {multiple: true, id: "patient_caveat_list"} %>
  </div>

  <div class="form-group">
    <%= form.label :description, "備考", class: "colibri-form-label" %>
    <%= form.text_area :description, id: :patient_description, class: "form-control" %>
  </div>


  <div class="actions">
    <%= form.submit 'セーブする', class: 'btn btn-info' %>
    <% unless patient.new_record? %>
      <%= link_to 'サービス停止', toggle_active_path(patient), method: :patch, data: {confirm: '将来のサービスがキャンセルされ、利用者一覧から外されます。'}, class: 'btn btn-danger text-white' %>
    <% end %>
  </div>
<% end %>