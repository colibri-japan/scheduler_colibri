$('.modal').modal('hide');

if (typeof calendar === 'undefined') {
  let calendar;
}

if ($('.calendar').length > 0) {
  calendar = $('.calendar');
} else if ($('.patient_calendar').length > 0) {
  calendar = $('.patient_calendar');
} else if ($('.nurse_calendar').length > 0) {
  calendar = $('.nurse_calendar');
}

if (window.nurseId == <%= @unavailability.nurse_id || 0 %> || window.patientId == <%= @unavailability.patient_id || 0 %> || window.generalPlanning == 'true') {
  calendar.fullCalendar(
    'renderEvent', 
    jQuery.parseJSON("<%= j render(partial: 'unavailabilities/unavailability.json', locals: {unavailability: @unavailability}).html_safe %>"),
    false
  );
}
