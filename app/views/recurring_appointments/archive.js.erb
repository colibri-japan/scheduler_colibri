<% if @recurring_appointment.errors.any?  %>
  alert("<%= j @recurring_appointment.errors.values.join('; ') %>");

<% else %>
  $('.modal').modal('hide');

  if (typeof calendar === 'undefined') {
    let calendar;
  }
  if ($('.calendar').length > 0) {
    calendar = $('.calendar');
  } else if ($('.patient_calendar').length > 0) {
    calendar = $('.patient_calendar');
  } else if ($('.nurse_calendar').length > 0) {
    calendar = $('.nurse_calendar');
  } else if ($('.master_calendar').length > 0) {
    calendar = $('.master_calendar');
  }

  <% if @recurring_appointment.master == true %>
    calendar.fullCalendar('removeEvents', '<%= "recurring_#{@recurring_appointment.id}" %>');
  <% else %>
  <% end %>


<% end %>

