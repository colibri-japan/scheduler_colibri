$('.calendar').fullCalendar('removeEvents', '<%= "appointment_#{@old_appointment.id}" %>' );
$('.patient-calendar').fullCalendar('removeEvents', '<%= "appointment_#{@old_appointment.id}" %>' );

$('.modal').modal('hide');

$('.calendar').fullCalendar(
  'renderEvent', 
  $.parseJSON("<%= j render(partial: 'appointments/appointment.json', locals: {appointment: @appointment}).html_safe  %>"), 
  false
);

$('.patient-calendar').fullCalendar(
  'renderEvent', 
  $.parseJSON("<%= j render(partial: 'appointments/appointment.json', locals: {appointment: @appointment}).html_safe  %>"), 
  false
);

$('#planning-activities').prepend("<%= j render partial: 'activities/activity', locals: {activity: @activity} %>");