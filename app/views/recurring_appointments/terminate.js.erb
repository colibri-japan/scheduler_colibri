<% if @recurring_appointment.errors.any?  %>
  alert("<%= j @recurring_appointment.errors.values.join('; ') %>");
<% else %>
  $('.modal').modal('hide');

  if (window.fullCalendar) {
    let eventToRemove = window.fullCalendar.getEventById('<%= "recurring_#{@recurring_appointment.id}" %>')
    eventToRemove.remove()
    window.fullCalendar.addEvent($.parseJSON("<%= j render(partial: 'recurring_appointments/recurring_appointment.json', locals: {recurring_appointment: @recurring_appointment}).html_safe %>"))
  }

<% end %>