
if (typeof calendar === 'undefined') {
  let calendar;
}

if ($('.calendar').length > 0) {
  calendar = $('.calendar');
} else if ($('.patient_calendar').length > 0) {
  calendar = $('.patient_calendar');
} else if ($('.nurse_calendar').length > 0) {
  calendar = $('.nurse_calendar');
}

calendar.fullCalendar('removeEvents', '<%= "private_event_#{@private_event.id}" %>' );

$('.modal').modal('hide');

if (window.nurseId == <%= @private_event.nurse_id || 0 %> || window.patientId == <%= @private_event.patient_id || 0 %> || window.generalPlanning == 'true') {
  calendar.fullCalendar(
    'renderEvent', 
    $.parseJSON("<%= j render(partial: 'private_events/private_event.json', locals: {private_event: @private_event}).html_safe  %>"), 
    false
  );
}