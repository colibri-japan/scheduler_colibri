$('.modal').modal('hide');
$('.modal-backdrop').remove();
$('#remote_container').html('<%= j render "edit" %>');
$('#edit_salary_rule').modal('show');
salaryRulesFormLayout()
salaryRulesSelectize()
conditionallyShowCountBetweenAppointments()
toggleNurseIdForm()
$('#all_nurses_selected_checkbox').on('change', function () {
    toggleNurseIdForm()
})

initializeTooltips()

$('#all_services_selected_checkbox').bootstrapToggle({
  onstyle: 'info',
  offstyle: 'secondary',
  on: '全サービスタイプ対象',
  off: 'サービスタイプ選択',
  size: 'small',
  width: 180
})


$('#holiday_operator').on('change', function(){
  if ($(this).val() === "2") {
    $('#target-wday-and-time').hide()
    $('#targeted_end_time').val('')
    $('#targeted_start_time').val('')
    $('#targeted_wdays').val('')
  } else {
    $('#target-wday-and-time').show()
  }
})


$('#targeted_end_time, #targeted_start_time').on('change', function(){
  if ($('#targeted_end_time').val() || $('#targeted_start_time').val()) {
    $('#time-constraint-operator').show()
  } else {
    $('#time-constraint-operator').hide()
  }
})

$('#only_count_between_appointments_checkbox').on('change', function(){
  $('#constraints_when_counting_between_appointments').toggle()
  if (!$(this).is(':checked')) {
    $('input[name="salary_rule[max_time_between_appointments]"]').val('')
  }
})