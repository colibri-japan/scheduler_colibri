<%= render partial: 'plannings/planning_left_menu', locals: {view: 'settings', resource_path: current_user.schedule_default_url_option || planning_nurse_path(@planning, @main_nurse), resource_master_path: planning_nurse_master_path(@planning, @main_nurse), resource_payable_path: planning_nurse_payable_path(@planning, @main_nurse, params: {m: Date.today.in_time_zone('Tokyo').month, y: Date.today.in_time_zone('Tokyo').year})} %>

<%= render 'plannings/settings_submenu', view: "schedule_settings" %>


<div id="settings-container">
    <div id="planning-options" >
        <h1 class="colibri-small-title">スケジュール設定</h1>
        <%= form_for @corporation do |form| %>
          <div class="colibri-form-subsection" style="margin-top:25px">
            <div class='colibri-form-subsection-title'>レイアウト設定</div>

            <div class="form-group" style="margin-top:15px">
                <%= form.label :business_start_hour, "日開始時間", class: "colibri-form-label-dark" %>
                <%= form.select :business_start_hour, options_for_select([['05:00', '05:00:00'], ['06:00', '06:00:00'], ['07:00', '07:00:00'], ['08:00', '08:00:00'], ['09:00', '09:00:00'], ['10:00', '10:00:00'], ['11:00', '11:00:00']], @corporation.business_start_hour), class: "form-control" %>
            </div>

            <div class="form-group">
                <%= form.label :business_end_hour, "日終了時間", class: "colibri-form-label-dark" %>
                <%= form.select :business_end_hour, options_for_select([['16:00', '16:00:00'], ['17:00', '17:00:00'], ['18:00', '18:00:00'], ['19:00', '19:00:00'], ['20:00', '20:00:00'], ['21:00', '21:00:00'], ['22:00', '22:00:00'], ['23:00', '23:00:00'], ['24:00','24:00:00']], @corporation.business_end_hour), class: "form-control" %>
            </div>
            
            <div class="form-group">
                <%= form.label :default_master_view, "マスターレイアウト", class: "colibri-form-label-dark" %>
                <%= form.select :default_master_view, options_for_select([['日','agendaDayWithoutResources'], ['週', 'agendaWeek'], ['月','month']], @corporation.default_master_view), class: "form-control" %>
            </div>

            <div class="form-group">
                <%= form.label :default_individual_view, "個別レイアウト", class: "colibri-form-label-dark" %>
                <%= form.select :default_individual_view, options_for_select([['日', 'agendaDay'], ['週','agendaWeek'], ['月','month']], @corporation.default_individual_view), class: "form-control" %>
            </div>

            <div class="form-group">
                <%= form.label :default_view, "従業員.利用者全員.チーム分けレイアウト", class: "colibri-form-label-dark" %>
                <%= form.select :default_view, options_for_select([['日', 'agendaDay'], ['週横','timelineWeek']], @corporation.default_view), class: "form-control" %>
            </div>

            <div class="form-group">
                <%= form.label :default_first_day, "カレンダー開始曜日", class: "colibri-form-label-dark" %>
                <%= form.select :default_first_day, options_for_select([['月曜', 1], ['日曜', 0]], @corporation.default_first_day), class: "form-control" %>
            </div>
          </div>

          <div class="colibri-form-subsection" style='margin-top:25px'>
            <div class='colibri-form-subsection-title'>リマインダー設定</div>
            <div class="form-group" style="margin-top:15px">
                <%= form.label :reminder_email_hour, "リマインダーメール送信時間", class: "colibri-form-label-dark" %>
                <%= form.select :reminder_email_hour, options_for_select([['06:00', '06:00'], ['07:00', '07:00'], ['08:00', '08:00'], ['09:00', '09:00'], ['10:00', '10:00'], ['11:00', '11:00'], ['12:00', '12:00'], ['13:00', '13:00'], ['14:00', '14:00'], ['15:00', '15:00'], ['16:00', '16:00'], ['17:00', '17:00'], ['18:00', '18:00'], ['19:00', '19:00'], ['20:00', '20:00'], ['21:00', '21:00']], @corporation.reminder_email_hour), class: "form-control" %>
            </div>

            <div class="form-group">
                <%= form.label :weekend_reminder_option, "リマインダーメール週末送信オプション", class: "colibri-form-label-dark" %>
                <%= form.select :weekend_reminder_option, options_for_select([['土.日.月の予定をまとめて金曜日に送る', 0], ['日.月の予定をまとめて土曜日に送る', 1], ['週末も毎日送る', 2]], @corporation.weekend_reminder_option), class: "form-control" %>
            </div>

            <div class="form-group">
                <%= form.label :email, "リマインダーメール送信元.返信先", class: "colibri-form-label-dark" %><span class='required-field'>*</span>
                <%= form.text_field :email, required: true, class: "form-control" %>
            </div>

            <div class="form-group">
                <%= form.label :include_description_in_nurse_mailer, "リマインダーメールシフトのコメント", class: "colibri-form-label-dark" %>
                <%= form.check_box :include_description_in_nurse_mailer %>
            </div>

            <div class="form-group">
                <%= form.label :custom_email_intro_text, "リマインダーメール定型文1", class: "colibri-form-label-dark" %>
                <%= form.text_area :custom_email_intro_text, class: "form-control" %>
            </div>

            <div class="form-group">
                <%= form.label :custom_email_outro_text, "リマインダーメール定型文2", class: "colibri-form-label-dark" %>
                <%= form.text_area :custom_email_outro_text, class: "form-control" %>
            </div>
        　</div>

          <div class="colibri-form-subsection">
            <div class="colibri-form-subsection-title">サービス設定のデフォルト</div>

            <div class="form-group">
                <%= form.label :detailed_cancellation_options, "キャンセル後の手当.請求オプション", class: 'colibri-form-label-dark' %>
                <%= form.check_box :detailed_cancellation_options, checked: @corporation.detailed_cancellation_options %>
            </div>

            <div class="form-group">
              <%= form.label :hour_based_payroll, "計算方法", class: "colibri-form-label-dark" %>
              <%= form.radio_button :hour_based_payroll, true, checked: @corporation.hour_based_payroll %>
              <%= form.label :hour_based_payroll_true, "時給" %>
              <%= form.radio_button :hour_based_payroll, false, checked: !@corporation.hour_based_payroll %>
              <%= form.label :hour_based_payroll_false, "単価" %>
            </div>

            <div class="form-group">
              <%= form.label :equal_salary, "全員同じ給与", class: "colibri-form-label-dark" %>
              <%= form.check_box :equal_salary, checked: @corporation.equal_salary %>
            </div>

          </div>

          <div class="actions">
              <%= form.submit "セーブする", class: "btn btn-info btn-block form-control" %>
          </div>

        <% end %>
    </div>

</div>

